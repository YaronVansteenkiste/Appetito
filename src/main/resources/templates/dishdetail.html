<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous">
<link rel="stylesheet" th:href="@{|/css/bootstrap.min.css|}">
<head>
    <meta charset="UTF-8">
    <title>Dish Detail</title>
</head>
<body>
<h1 th:replace="~{fragments/header :: header}"></h1>

<h6 class="mt-3 ms-2" th:text="'Home > Recepten > Categorie > ' + ${dish.name}"></h6>

<main class="container">
    <div class="row">
        <div class="col-md-6">
            <div class="recipeImage">
                <img th:src="@{/img/{filename}(filename=${dish.getImgFileName()})}" th:alt="${dish.name}" style="max-width: 100%;">
            </div>
        </div>
        <div class="col-md-6 ">
            <div th:if="${dish}">
                <h2 >
                    <strong th:text="${dish.name}">Dish Name</strong>

                </h2>


                <h4>Gelegenheid</h4>
                <p th:text="${dish.occasion}"></p>

                <h4>Dieet</h4>
                <p th:text="${dish.dietPreferences}"></p>

                <h4>Bereidingstijd</h4>
                <p th:text="${dish.preparationTime}"></p>
            </div>
        </div>
    </div>
</main>

<div class="container">
    <div class="row">
        <div>
            <h4>IngrediÃ«nten</h4>
            <div th:each="ingredient: ${dish.getIngredients()}" class="col-sm-2 mb-1" th:if="${ingredient.quantity != null}">
                <p th:text="${ingredient.name + ' ' + (ingredient.quantity  != null && ingredient.quantity  != 0 ? ingredient.quantity + ' ' : '') + (ingredient.getUnit() != null ? ingredient.getUnit() : '')}"></p>
            </div>
        </div>
    </div>
</div>


<div class="container">
    <div class="row">
        <div>
            <h4>Bereiding</h4>
            <p>
                <span th:each="step,iterStat : ${#strings.arraySplit(dish.preparation, '//')}">
                    <span th:text="${iterStat.index + 1} + '. ' + ${step.substring(3)}"></span><br>
                </span>
            </p>
        </div>
    </div>
</div>




<footer th:replace="~{fragments/footer :: footer}"></footer>
</body>
</html>